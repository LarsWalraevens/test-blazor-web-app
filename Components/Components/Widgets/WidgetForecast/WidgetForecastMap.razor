@namespace test_blazor_web_app.Components

<div
    style="min-width: @SizeInPx; min-height: @SizeInPx; position: relative; display: flex; flex-direction:column; margin: 3rem;">
    @if (ChildContent != null)
    {
        <div style="width: 100%; min-height: 100%; position: absolute; flex-grow:1; display:flex;">
            @ChildContent
        </div>
    }
    <div class="compass-map">
        <div class="compass-map-labels">
            <p id="north">n</p>
            <p id="west">w</p>
            <p id="east">e</p>
            <p id="south">s</p>
            <span id="y-axis" />
            <span id="x-axis" />
        </div>
        <div class="compass-map-inner">
        </div>
        <div class="compass-map-positioning">
            @if (DegreePositioning != null)
            {
                <div
                    style="transform: rotate(@(DegreePositioning)deg); transform-origin: 0% 50%;width: 1px;left:calc(50%);height: 100%;position: absolute; display:flex; justify-content: center;">
                    <span
                        style="background-color:#FFFFFF; box-shadow: inset 0px 0px 0px 2px rgba(0, 0, 0, 40%); width: 13px; height: 13px; border-radius: 100%; display: block; position: absolute; opacity: 0.8;"></span>
                </div>
            }
        </div>
    </div>
</div>

@code {
    [Parameter]
    public int DiameterInPx { get; set; }

    [Parameter]
    public decimal? DegreePositioning { get; set; }

    private string SizeInPx => $"{DiameterInPx}px";

    [Parameter]
    public RenderFragment ChildContent { get; set; }
}
